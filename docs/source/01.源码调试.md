---
sidebar_position: 1
---

# è°ƒè¯•æºç 

## åˆ›å»ºreact17æºç ç¯å¢ƒ

1. åˆ›å»ºè°ƒè¯•ç›®å½•ï¼š`react_build_stu`
2. è¯¥ç›®å½•ä¸‹cloneæºç ï¼š`git clone -b 17.0.1 https://github.com/facebook/react.git`
3. è¿›å…¥`react_build_stu/react`ä½¿ç”¨yarnå®‰è£…ä¾èµ–ï¼Œ`yarn`ã€node14.19.1ï¼Œ`npm i yarn -g`ã€‘
4. buildæºç ï¼š`npm run build react/index,react/jsx,react-dom/index,scheduler --type=NODE`

æ³¨æ„ï¼šbuildè¿‡ç¨‹ä¸­macç”µè„‘ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯

![image-20220925213904728](https://blog-guiyexing.oss-cn-qingdao.aliyuncs.com/blogImg/202209252139764.png!blog.guiyexing)

è§£å†³æ–¹æ¡ˆï¼šå®‰è£…Javaåœ°å€ï¼šhttps://www.java.com/zh-CN/

å®‰è£…æˆåŠŸåé‡æ–°æ‰§è¡Œç¬¬4æ­¥buildå…³é”®æºç éƒ¨åˆ†ï¼Œå‡ºç°å¦‚ä¸‹è¡¨ç¤ºæ‰“åŒ…æˆåŠŸ

![image-20220925213726848](https://blog-guiyexing.oss-cn-qingdao.aliyuncs.com/blogImg/202209252137900.png!blog.guiyexing)

5. è¿™ä¸ªæ—¶å€™å¯ä»¥å•ç‹¬å°†buildäº§ç‰©ç§»å‡ºreactç›®å½•ï¼Œå¹¶å»ºç«‹è½¯é“¾

   ```shell
   mv /Users/ç”¨æˆ·å/react_build_stu/react/build /Users/ç”¨æˆ·å/react_build_stu/react_build
   # åˆ é™¤å‰å…ˆäº†è§£ç›®å½•ç»“æ„
   rm -rf /Users/ç”¨æˆ·å/react_build_stu/react
   cd react_build/node_modules/react
   npm link
   cd react_build/node_modules/react-dom
   npm link
   ```

6. create-react-appåˆ›å»ºé¡¹ç›®
   ```shell
   npx create-react-app demo
   cd demo
   npm link react react-dom
   ```

7. åœ¨`react_build/node_modules/react-dom/cjs/react-dom.development.js`é‡Œæ·»åŠ æ‰“å°
   ```js
   console.log('hello','æ•°æ®ğŸ˜ğŸ˜ğŸ˜');
   ```

8. å¯åŠ¨demoé¡¹ç›®ï¼Œå¦‚æœé¡¹ç›®æ˜¯react18ï¼Œéœ€æ›¿æ¢å…¥å£

   ```js
   import React from "react";
   import ReactDOM from "react-dom";
   import App from "./App";

   const rootEl = document.getElementById("root");

   ReactDOM.render(<App />, rootEl);
   // ReactDOM.unstable_createRoot(rootEl).render(<App />);
   ```

   ![image-20220925222917590](https://blog-guiyexing.oss-cn-qingdao.aliyuncs.com/blogImg/202209252229663.png!blog.guiyexing)

è‡³æ­¤å°±å¯ä»¥å¼€å§‹è¿›è¡Œæºç è°ƒè¯•äº†ã€‚

## æºç ç›®å½•ç»“æ„

æºç ä¸­ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹éƒ¨åˆ†

- fixturesï¼šä¸ºä»£ç è´¡çŒ®è€…æä¾›çš„æµ‹è¯•React
- packagesï¼šä¸»è¦éƒ¨åˆ†ï¼ŒåŒ…å«Schedulerï¼Œreconcilerç­‰
- scriptsï¼šreactæ„å»ºç›¸å…³

packagesä¸»è¦åŒ…å«çš„æ¨¡å—

- reactï¼šæ ¸å¿ƒApiå¦‚ï¼šReact.createElementã€React.Componentç­‰

- å’Œå¹³å°ç›¸å…³renderç›¸å…³çš„æ–‡ä»¶å¤¹ï¼š

  react-artï¼šå¦‚canvas svgçš„æ¸²æŸ“ï¼›react-domï¼šæµè§ˆå™¨ç¯å¢ƒï¼›react-native-rendererï¼šåŸç”Ÿç›¸å…³ï¼›react-noop-rendererï¼šè°ƒè¯•æˆ–è€…fiberç”¨

- è¯•éªŒæ€§çš„åŒ…

  react-server: ssrç›¸å…³

  react-fetch: è¯·æ±‚ç›¸å…³

  react-interactions: å’Œäº‹ä»¶å¦‚ç‚¹å‡»äº‹ä»¶ç›¸å…³

  react-reconciler: æ„å»ºèŠ‚ç‚¹

- sharedï¼šåŒ…å«å…¬å…±æ–¹æ³•å’Œå˜é‡

- è¾…åŠ©åŒ…ï¼š

  react-is : åˆ¤æ–­ç±»å‹

  react-client: æµç›¸å…³

  react-fetch: æ•°æ®è¯·æ±‚ç›¸å…³

react-refresh: çƒ­åŠ è½½ç›¸å…³

- schedulerï¼šè°ƒåº¦å™¨ç›¸å…³
- React-reconcilerï¼šåœ¨renderé˜¶æ®µç”¨å®ƒæ¥æ„å»ºfiberèŠ‚ç‚¹